@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
    $.getJSON("http://localhost:38302/api/StudentAPI/", function (data) {
        $.each(data, function (key, value) {
            $(".table").append("<tr class='ajax'><td>" + value["Name"] + "</td><td>" + value["DOB"] + "</td><td>" + value["Email"] + "</td></tr>");
        });
    });
    $(document).ready(function () {
        $("#btnSearch").click(function () {
            $(".ajax").remove();
            $.getJSON("http://localhost:38302/api/StudentAPI/"+$("#txtSearch").val(), function (data) {
                $.each(data, function (key, value) {
                    $(".table").append("<tr class='ajax'><td>" + value["Name"] + "</td><td>" + value["DOB"] + "</td><td>" + value["Email"] + "</td></tr>");
                });
            });
        });

        $("#btnReset").click(function () {
            $(".ajax").remove();
            $.getJSON("http://localhost:38302/api/StudentAPI/", function (data) {
                $.each(data, function (key, value) {
                    $(".table").append("<tr class='ajax'><td>" + value["Name"] + "</td><td>" + value["DOB"] + "</td><td>" + value["Email"] + "</td></tr>");
                });
            });
        });
    });
</script>
<p>
    @Html.ActionLink("Create New", "Create")
</p>
<input type="text" id="txtSearch" /><input type="button" id="btnSearch" value="Search" /><input type="button" id="btnReset" value="Reset" />
<table class="table">
    <tr>
        <th>
            Name
        </th>
        <th>
            DOB
        </th>
        <th>
            Email
        </th>
    </tr>

</table>
